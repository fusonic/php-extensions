phpunit:api-documentation-bundle:symfony:
    extends: .phpunit-test
    needs: []
    variables:
        PACKAGE: api-documentation-bundle
    script:
        - composer phpstan
        - composer phpcs-check
        - vendor/bin/phpunit --coverage-text --coverage-cobertura=coverage/cobertura.xml --coverage-html=coverage/html

phpunit:api-documentation-bundle:symfony-lowest:
    extends: .phpunit-test
    needs: []
    variables:
        PACKAGE: api-documentation-bundle
    script:
        - composer update --prefer-lowest --prefer-stable --no-progress --no-interaction
        - vendor/bin/phpunit
    artifacts:
        paths: []

api-documentation-bundle:publish-branch:
    extends: .publish-branch
    variables:
        PACKAGE: api-documentation-bundle
        REPOSITORY: git@github.com:fusonic/php-api-documentation-bundle.git

api-documentation-bundle:publish-tag:
    extends: .publish-tag
    variables:
        PACKAGE: api-documentation-bundle
        REPOSITORY: git@github.com:fusonic/php-api-documentation-bundle.git
